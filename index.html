<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>สุ่มตัวเลข</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Sarabun', sans-serif;
    background-color: #f0f0f0; /* หน้าเว็บพื้นหลังอ่อน */
    display: flex;
    justify-content: center;
    padding: 50px 20px;
}

.container {
    display: grid;
    grid-template-columns: 200px 20px 200px;
    grid-gap: 20px;
    align-items: start;
    background-color: #ffffff; /* กล่องสีขาว */
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

#output {
    background: #fafafa; /* สีพื้น textarea */
    border: 1px solid #ccc;
    min-height: 200px;
    padding: 10px;
    border-radius: 5px;
    overflow-y: auto;
    white-space: pre-wrap;
}

button {
    padding: 8px 16px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    color: #fff;
    font-weight: bold;
    transition: 0.2s;
}

button:hover { filter: brightness(85%); }

button#generate { 
    background-color: #2c80b4; /* น้ำเงินเข้ม */
    margin-top: 10px;           /* เพิ่มระยะห่างจาก label ข้างบน */
}

button#apply { background-color: #2ecc71; }    /* ตกลง */
button#clear { background-color: #e74c3c; }    /* ลบข้อมูล */
button#author { background-color: #9b59b6; }   /* ผู้จัดทำ */

label { display: block; margin-top: 10px; }

input[type="text"] { width: 100%; padding:5px; }

.button-group {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.button-group button { flex: 1; }

/* ตัวเลขคี่/คู่สีเข้ม */
#output span.odd { color: #c0392b; }  /* แดงเข้ม */
#output span.even { color: #2980b9; } /* น้ำเงินเข้ม */

/* Modal */
#authorModal {
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background: rgba(0,0,0,0.5);
    justify-content:center;
    align-items:center;
}

#modalContent {
    background:#fff;
    padding:20px 30px;
    border-radius:8px;
    text-align:center;
    box-shadow:0 4px 15px rgba(0,0,0,0.2);
    font-size:18px;
    min-width:250px;
    position:relative;
    transform: translateY(-200px);
    opacity:0;
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

#closeModal {
    position:absolute;
    top:5px;
    right:10px;
    cursor:pointer;
    font-weight:bold;
    font-size:20px;
}
</style>
</head>
<body>
<div class="container">
    <!-- ซ้าย: ข้อมูลและจำนวน -->
    <div>
        <label>ข้อมูล</label>
        <div id="output"></div>
        <label>จำนวน</label>
        <input id="amount" type="text" readonly>
    </div>

    <div></div>

    <!-- ขวา: ตัวกรองและปุ่ม -->
    <div>
        <label><input type="radio" name="filter" value="all"> แสดงข้อมูลทั้งหมด</label>
        <button id="generate" onclick="showData('all', true)">สุ่มตัวเลข</button>

        <label>ตัวกรองเลข</label>
        <label><input type="radio" name="filter" value="odd"> เลขคี่</label>
        <label><input type="radio" name="filter" value="even"> เลขคู่</label>

        <div class="button-group">
            <button id="apply" onclick="applyFilter()">ตกลง</button>
            <button id="clear" onclick="clearAll()">ลบข้อมูล</button>
        </div>
    </div>

    <!-- ปุ่มผู้จัดทำด้านล่าง -->
    <div style="grid-column: 1 / span 3; text-align: center; margin-top: 20px;">
        <button id="author" onclick="showAuthor()">ผู้จัดทำ</button>
    </div>
</div>

<!-- Modal กล่องผู้จัดทำ -->
<div id="authorModal">
    <div id="modalContent">
        <span id="closeModal">&times;</span>
        <p>ผู้จัดทำ: นางสาวผุสดี กุลวงศ์</p>
    </div>
</div>

<script>
let data = [];

// สุ่มตัวเลข 10 ตัว
function generate(){
    data = [];
    for(let i=0; i<10; i++){
        data.push(Math.floor(Math.random()*99)+1);
    }
}

// แสดงข้อมูลตาม filter
function showData(type, regenerate=false){
    if(regenerate || data.length === 0) generate();

    let outputDiv = document.getElementById("output");
    let count = 0;
    outputDiv.innerHTML = ""; // ล้างข้อมูลเก่า

    data.forEach(n => {
        let show = false;
        if(type === "all") show = true;
        else if(type === "odd" && n % 2 === 1) { show = true; count++; }
        else if(type === "even" && n % 2 === 0) { show = true; count++; }

        if(show){
            let span = document.createElement("span");
            span.textContent = n + " ";
            span.className = (n % 2 === 0) ? "even" : "odd";
            outputDiv.appendChild(span);
        }
    });

    document.getElementById("amount").value = (type === "all") ? "" : count;
}

// ใช้ filter ตามที่เลือก
function applyFilter(){
    const selected = document.querySelector('input[name="filter"]:checked');
    if(!selected) return alert("กรุณาเลือกตัวกรองก่อน");
    showData(selected.value);
}

// ลบข้อมูลทั้งหมด
function clearAll(){
    document.getElementById("output").innerHTML = "";
    document.getElementById("amount").value = "";
    document.querySelectorAll('input[name="filter"]').forEach(r=>r.checked=false);
    data = [];
}

// แสดง modal ผู้จัดทำพร้อม bounce
function showAuthor() {
    let modal = document.getElementById("authorModal");
    let content = document.getElementById("modalContent");
    modal.style.display = "flex";
    setTimeout(() => {
        content.style.transform = "translateY(0)";
        content.style.opacity = "1";
    }, 10);
}

// ปิด modal ด้วย animation
function closeModal() {
    let modal = document.getElementById("authorModal");
    let content = document.getElementById("modalContent");
    content.style.transform = "translateY(-200px)";
    content.style.opacity = "0";
    setTimeout(() => { modal.style.display = "none"; }, 500);
}

// ปุ่ม ×
document.getElementById("closeModal").onclick = closeModal;

// คลิกพื้นที่ด้านนอก modal เพื่อปิด
window.onclick = function(event) {
    let modal = document.getElementById("authorModal");
    if(event.target == modal) closeModal();
}
</script>
</body>
</html>
